# 最終課題レポート

## 概要

本リポジトリでは、Python プログラミング課題に取り組む受講生が自分のコードを提出すると、自動でアドバイスを返す Web アプリケーションを実装しました。講座の宿題に対して "正解／不正解" だけではなく、どこを直せば良いかを学習者が考えられるようなヒントを提示することが目的です。

## 目的

- GCI 講座の宿題で、受講生がつまずいた箇所を素早く把握し、自力で改善できるよう支援する
- 添削者の負担を軽減しつつ、教育的なフィードバックを提供する
- チート行為を防止し、学習意欲を高める

## システム構成

- **フロントエンド:** Next.js 15 + TypeScript
- **バックエンド:** FastAPI / SQLAlchemy
- **コード実行:** Docker コンテナによるサンドボックス (ネットワーク無効化・メモリ 128MB・5秒制限)
- **AI アドバイス生成:** LLM (Google GenAI など) を利用
- **データベース:** SQLite

## 工夫した点

1. **安全なコード実行**
   - Docker コンテナを用いることで、提出コードによるシステムへの影響を最小化しました。
   - Python スクリプトだけでなく Jupyter Notebook 形式の提出にも対応し、ノートブックから Python コードを抽出して実行します。
2. **答えを教えないアドバイス**
   - 生成プロンプトで「正解を直接教えない」ことを明示し、学習者がヒントから自分で考えられるようにしています。
3. **追加学習用の仕組み**
   - 間違えた問題に対して新しい練習問題を出す拡張も想定しており、将来的な機能追加を見据えた設計です。
4. **CI/CD とテスト**
   - Docker イメージのビルドと API の動作を GitHub Actions で自動テストできるよう構成しています。
   - `python backend/test/api_smoke_test.py` と `python backend/test/test_docker_basic.py` で基本的な動作を確認できます。

## 使い方

1. `docker-compose up --build` を実行してフロントエンド (http://localhost:3000) とバックエンド API (http://localhost:8000) を起動します。
2. 受講生はブラウザ上のエディタでコードを提出すると、サンドボックスで実行され、結果をもとに AI がアドバイスを生成します。
3. 添削者は提出履歴とアドバイスを確認し、必要に応じて得点をつけます。

## 今後の課題

- 問題データがハードコードされているため、管理画面による編集機能を追加する
- Bedrock など複数のモデルを切り替えられるよう改良し、コスト試算を自動化する
- 本番運用に向けたセキュリティ設定の強化

